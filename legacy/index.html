<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>New Story Map</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <meta name="description" content="A new story map created with Storymapper">
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.css' rel='stylesheet' />
    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id='map'></div>
    <div id='story'></div>
    <div id='legend'></div>
    <script src='config.js'></script>
    <script src='layerConfig.js'></script>
    <script type='text/javascript' src="map.js"></script>
    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            window.loadConfig().then(config => {
                window.initMap(config);
                window.loadLayerConfig().then(sourceConfig, layerConfig => {
                    window.initLayers(map, sourceConfig, layerConfig);
                });
            });
        });
    </script>
</body>

</html>
